#!/usr/bin/env bash

#: mpd rofi client

# yell "ROFI_INFO $ROFI_INFO"
# yell "ROFI_RETV $ROFI_RETV ${rofm_keys[$ROFI_RETV]}"

source _rofm_keys

r() {
  rofi "${keys_binds[@]}" \
    -matching fuzzy \
    -markup-rows \
    -modi b:_rofm_browse,q:_rofm_queue \
    -display-combi rofm \
    -theme 'vertical.rasi' \
    -theme-str '
      window {
        width: 600;
      }
      listview {
        lines: 10;
      }
    ' "$@"
}

if [ "$(mpc playlist | wc -l)" = 0 ]; then
  r -show b
else
  r -show q
fi
