#!/bin/bash

#: dmenu-like floating terminal window powered by fzf

name="fzfmenu"

#st bash -c "fzf $* < /proc/$$/fd/0 > /proc/$$/fd/1"

# check if matches regex?
if [[ $1 == *':'* ]]; then
  dimensions=$1 ; shift
else
  dimensions=80:8
fi

alacritty \
  --class floatingTerminal,floatingTerminal \
  -t "$name" \
  -o "window.dimensions.columns=${dimensions%%:*}" \
  -o "window.dimensions.lines=${dimensions##*:}" \
  -o "window.padding.x=0" \
  -o "window.padding.y=10" \
  -e sh -c "fzf $* < /proc/$$/fd/0 > /proc/$$/fd/1"
